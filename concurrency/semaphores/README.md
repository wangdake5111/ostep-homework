### environment
MacOS 10.15


1.  
see my code 
2.  
see my code
3.  
see the code.
I use another semaphore implementation, because the implementations in the book the first time I think it's wrong but actually no which wastes me the whole afternoon. damn!

4.  
see the code
5.  
see the code
6.  
see the code, the code I got from LittleBookOfSemaphores. It's too magic.
I strongly recommond you read it.
